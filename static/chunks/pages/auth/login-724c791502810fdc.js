(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9344],{3208:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return s(573)}])},573:function(e,t,s){"use strict";s.r(t);var r=s(5893),l=s(7294),n=s(1163);s(4442);var a=s(9403),o=s(6776),i=s(389),c=s(6094),u=s(1202),d=s(3643),m=s(6339);let f=()=>{let[e,t]=(0,l.useState)(""),[s,f]=(0,l.useState)(""),[p,h]=(0,l.useState)(null),[g,x]=(0,l.useState)([]),[b,w]=(0,l.useState)(!1),[v,y]=(0,l.useState)(""),{layoutConfig:N}=(0,l.useContext)(i.V),j=(0,n.useRouter)(),k="http://localhost:3000/api/backend";console.log(k),(0,l.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/UsersShifts");if(e.ok){let t=await e.json();x(t.map(e=>({label:e.Code,value:e.Name})))}else console.error("Failed to fetch shifts")}catch(e){console.error("Error fetching shifts:",e)}};e()},[]);let P=async()=>{w(!0),y("");let t={UserName:s,Password:e};try{let e=await fetch("".concat(k,"/Account/Login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(e.ok){let s=await e.json();localStorage.setItem("Token",s.token),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("username",t.UserName),localStorage.setItem("shift",p),j.push("/tortillas")}else{let t=await e.json();y(t.message||"Incorrect username or password")}}catch(e){console.error("Error:",e),y("An error occurred")}finally{w(!1)}},S=(0,d.AK)("surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden",{"p-input-filled":"filled"===N.inputStyle});return(0,r.jsx)("div",{className:S,children:(0,r.jsx)("div",{className:"flex flex-column align-items-center justify-content-center",children:(0,r.jsx)("div",{style:{borderRadius:"26px",padding:"0.2rem",background:"linear-gradient(180deg, #8BC34A 10%, #8BC34A 30%, #795548 70%, #795548 90%)"},children:(0,r.jsxs)("div",{className:"w-full surface-card py-5 px-5 sm:px-8",style:{borderRadius:"25px"},children:[(0,r.jsx)("div",{className:"text-center mb-5",children:(0,r.jsx)("div",{className:"logo-login"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email1",className:"block text-900 text-xl font-medium mb-1",children:"Username"}),(0,r.jsx)(c.o,{inputid:"email1",type:"text",placeholder:"username",value:s,onChange:e=>f(e.target.value),className:"w-full md:w-20rem mb-5",style:{padding:"0.5rem"}}),(0,r.jsx)("label",{htmlFor:"password1",className:"block text-900 font-medium text-xl mb-1",children:"Password"}),(0,r.jsx)(o.r,{inputid:"password1",value:e,onChange:e=>t(e.target.value),placeholder:"Password",toggleMask:!0,className:"w-full mb-5",inputClassName:"w-full p-1.5 md:w-20rem"}),(0,r.jsx)("label",{htmlFor:"shift",className:"block text-900 font-medium text-xl mb-1",children:"Shift"}),(0,r.jsx)(u.L,{id:"shift",value:p,options:g,onChange:e=>h(e.value),placeholder:"Select a Shift",className:"w-full mb-5"}),(0,r.jsx)("div",{className:"flex align-items-center justify-content-between mb-2 gap-5"}),(0,r.jsxs)(a.z,{label:"Log In",className:"w-full p-3 text-xl mb-2 custom-brown-button",onClick:()=>P(),disabled:b,style:{background:"#795548",borderColor:"#795548"},children:[b&&(0,r.jsx)(m.G,{style:{width:"25px",height:"25px"},strokeWidth:"8"}),!b]}),v&&(0,r.jsx)("div",{className:"p-error mb-4",children:v})]})]})})})})};f.getLayout=function(e){return(0,r.jsxs)(l.Fragment,{children:[e,!1]})},t.default=f},6339:function(e,t,s){"use strict";s.d(t,{G:function(){return o}});var r=s(7294),l=s(3643);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}var a={defaultProps:{__TYPE:"ProgressSpinner",id:null,style:null,className:null,strokeWidth:"2",fill:"none",animationDuration:"2s",children:void 0},getProps:function(e){return l.gb.getMergedProps(e,a.defaultProps)},getOtherProps:function(e){return l.gb.getDiffProps(e,a.defaultProps)}},o=r.memo(r.forwardRef(function(e,t){var s=a.getProps(e),o=r.useRef(null),i=a.getOtherProps(s),c=(0,l.AK)("p-progress-spinner",s.className);return r.useImperativeHandle(t,function(){return{props:s,getElement:function(){return o.current}}}),r.createElement("div",n({id:s.id,ref:o,style:s.style,className:c,role:"alert","aria-busy":!0},i),r.createElement("svg",{className:"p-progress-spinner-svg",viewBox:"25 25 50 50",style:{animationDuration:s.animationDuration}},r.createElement("circle",{className:"p-progress-spinner-circle",cx:"50",cy:"50",r:"20",fill:s.fill,strokeWidth:s.strokeWidth,strokeMiterlimit:"10"})))}));o.displayName="ProgressSpinner"}},function(e){e.O(0,[8725,6776,9774,2888,179],function(){return e(e.s=3208)}),_N_E=e.O()}]);